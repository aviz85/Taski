<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taski - ניהול משימות</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- תציג את האפליקציה כאן -->
        <div id="loading" class="loading-overlay">
            <div class="loading-spinner"></div>
        </div>

        <nav class="navbar">
            <div class="container">
                <div class="navbar-brand">
                    <span class="logo"><i class="fas fa-tasks"></i> Taski</span>
                </div>
                <div class="navbar-menu" id="navbarMenu">
                    <div class="navbar-end">
                        <div class="user-info" id="userInfo" style="display: none;">
                            <span id="welcomeMessage">שלום, </span>
                            <button class="logout-btn" id="logoutBtn">התנתק <i class="fas fa-sign-out-alt"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <main class="main-content">
            <div class="container">
                <!-- אזור האימות -->
                <div id="authSection" class="auth-section">
                    <div class="auth-container">
                        <div class="auth-tabs">
                            <button id="loginTabBtn" class="auth-tab active">התחברות</button>
                            <button id="registerTabBtn" class="auth-tab">הרשמה</button>
                        </div>
                        <div id="loginForm" class="auth-form">
                            <h2>התחברות</h2>
                            <div class="form-group">
                                <label for="loginUsername">שם משתמש</label>
                                <input type="text" id="loginUsername" placeholder="הזן שם משתמש">
                            </div>
                            <div class="form-group">
                                <label for="loginPassword">סיסמה</label>
                                <input type="password" id="loginPassword" placeholder="הזן סיסמה">
                            </div>
                            <button id="loginBtn" class="btn btn-primary">התחבר</button>
                            <div id="loginError" class="error-message"></div>
                        </div>
                        
                        <div id="registerForm" class="auth-form" style="display: none;">
                            <h2>הרשמה</h2>
                            <div class="form-group">
                                <label for="registerUsername">שם משתמש</label>
                                <input type="text" id="registerUsername" placeholder="הזן שם משתמש">
                            </div>
                            <div class="form-group">
                                <label for="registerEmail">דוא"ל</label>
                                <input type="email" id="registerEmail" placeholder="הזן דוא״ל">
                            </div>
                            <div class="form-group">
                                <label for="registerPassword">סיסמה</label>
                                <input type="password" id="registerPassword" placeholder="הזן סיסמה">
                            </div>
                            <button id="registerBtn" class="btn btn-primary">הירשם</button>
                            <div id="registerError" class="error-message"></div>
                        </div>
                    </div>
                </div>
                
                <!-- אזור המשימות -->
                <div id="tasksSection" style="display: none;">
                    <div class="tasks-header">
                        <h1>המשימות שלי</h1>
                        <button id="newTaskBtn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> משימה חדשה
                        </button>
                    </div>
                    
                    <div class="tasks-filters">
                        <div class="filter-group">
                            <label for="statusFilter">סטטוס:</label>
                            <select id="statusFilter">
                                <option value="">הכל</option>
                                <option value="TODO">לביצוע</option>
                                <option value="IN_PROGRESS">בתהליך</option>
                                <option value="DONE">הושלם</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="priorityFilter">עדיפות:</label>
                            <select id="priorityFilter">
                                <option value="">הכל</option>
                                <option value="LOW">נמוכה</option>
                                <option value="MEDIUM">בינונית</option>
                                <option value="HIGH">גבוהה</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="searchInput">חיפוש:</label>
                            <input type="text" id="searchInput" placeholder="חיפוש משימות...">
                        </div>
                    </div>
                    
                    <div class="tasks-list" id="tasksList">
                        <!-- משימות יתווספו כאן דינמית -->
                    </div>
                </div>
            </div>
        </main>

        <!-- מודל משימה חדשה / עריכת משימה -->
        <div id="taskModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2 id="modalTitle">משימה חדשה</h2>
                <div class="form-group">
                    <label for="taskTitle">כותרת</label>
                    <input type="text" id="taskTitle" placeholder="הזן כותרת">
                </div>
                <div class="form-group">
                    <label for="taskDescription">תיאור</label>
                    <textarea id="taskDescription" placeholder="הזן תיאור"></textarea>
                </div>
                <div class="form-group">
                    <label for="taskDueDate">תאריך יעד</label>
                    <input type="datetime-local" id="taskDueDate">
                </div>
                <div class="form-group">
                    <label for="taskStatus">סטטוס</label>
                    <select id="taskStatus">
                        <option value="TODO">לביצוע</option>
                        <option value="IN_PROGRESS">בתהליך</option>
                        <option value="DONE">הושלם</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="taskPriority">עדיפות</label>
                    <select id="taskPriority">
                        <option value="LOW">נמוכה</option>
                        <option value="MEDIUM">בינונית</option>
                        <option value="HIGH">גבוהה</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="taskAssignedTo">משויך למשתמש</label>
                    <select id="taskAssignedTo">
                        <!-- אפשרויות ייטענו דינמית -->
                    </select>
                </div>
                <div class="modal-actions">
                    <button id="saveTaskBtn" class="btn btn-primary">שמור</button>
                    <button id="cancelTaskBtn" class="btn btn-secondary">ביטול</button>
                </div>
                <div id="taskModalError" class="error-message"></div>
            </div>
        </div>

        <!-- מודל אישור מחיקה -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <h2>אישור מחיקה</h2>
                <p>האם אתה בטוח שברצונך למחוק את המשימה?</p>
                <div class="modal-actions">
                    <button id="confirmDeleteBtn" class="btn btn-danger">מחק</button>
                    <button id="cancelDeleteBtn" class="btn btn-secondary">ביטול</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Taski - מערכת ניהול משימות</p>
        </div>
    </footer>

    <script src="/static/js/main.js"></script>
</body>
</html> 