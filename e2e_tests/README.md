# מערכת בדיקות מקצה לקצה (End-to-End Tests) למערכת Taski

מערכת זו מספקת בדיקות אוטומטיות להבטחת איכות מערכת Taski. הבדיקות בודקות את המערכת כמכלול, משכבת ממשק המשתמש דרך ה-API ועד למסד הנתונים.

## סוגי בדיקות

מערכת הבדיקות כוללת שני סוגי בדיקות עיקריים:

1. **בדיקות ממשק משתמש (UI)**: בדיקות Selenium שמדמות התנהגות של משתמש אמיתי בדפדפן.
2. **בדיקות API**: בדיקות ישירות של נקודות הקצה של ה-API.

## דרישות

כדי להריץ את הבדיקות, יש להתקין את החבילות הבאות:

```bash
pip install selenium webdriver-manager requests
```

בנוסף, עבור בדיקות ממשק המשתמש, יש צורך ב:
- Chrome Browser
- ChromeDriver (יותקן אוטומטית על ידי webdriver-manager)

## הרצת הבדיקות

ניתן להריץ את הבדיקות באמצעות הסקריפט `run_all_tests.py`:

### הרצת כל הבדיקות

```bash
python run_all_tests.py
```

### הרצת בדיקות ה-API בלבד

```bash
python run_all_tests.py --type api
```

### הרצת בדיקות ממשק המשתמש בלבד

```bash
python run_all_tests.py --type ui
```

## מבנה קבצי הבדיקות

- `test_end_to_end.py`: בדיקות ממשק המשתמש באמצעות Selenium.
- `test_api.py`: בדיקות API ישירות.
- `run_all_tests.py`: סקריפט להרצת כל הבדיקות יחד.
- `reports/`: תיקייה שבה נשמרים דוחות הבדיקה.

## בדיקות ממשק המשתמש

בדיקות ממשק המשתמש בודקות את התהליכים הבאים:

1. טעינת הדף הראשי
2. רישום משתמש חדש
3. התנתקות והתחברות מחדש
4. יצירת משימה חדשה
5. סינון וחיפוש משימות
6. עריכת משימה
7. מחיקת משימה

## בדיקות API

בדיקות ה-API בודקות את הפעולות הבאות:

1. רישום משתמש חדש
2. התחברות למערכת
3. רענון טוקן גישה
4. יצירת משימה
5. קבלת רשימת משימות
6. קבלת משימה בודדת
7. עדכון משימה
8. סינון משימות
9. חיפוש משימות
10. מחיקת משימה
11. ניסיונות גישה לא מורשים

## תוצאות הבדיקות

בסוף הריצה נוצר דוח בדיקה בתיקיית `reports/` עם סיכום תוצאות הבדיקות.

## הערות

- ניתן להפעיל את הבדיקות גם כאשר שרת Django כבר פועל.
- בדיקות ממשק המשתמש מופעלות על ידי ברירת מחדל במצב "headless", כלומר ללא ממשק גרפי. ניתן לשנות זאת על ידי הסרת הפרמטר `--headless` בקוד. 